

<div class="StepList">
  <h3 class="StepList__heading">How does this lesson unfold?</h3>
  <ul class="StepList__steps">
    <% 5.times do |step| %>
    <li class="StepList__step">
      <div class="StepList__content">
        <div class="StepList__step__number">
          Step <%= step+1 %>
        </div>
        <div class="StepList__step__duration">
          30m
        </div>
        <div class="StepList__step__title">
          Title attribute for step required
        </div>
        <a href="<%=  %>" class="StepList__step__edit">
          Edit Step
        </a>
        <a href="<%=  %>" class="StepList__step__remove">
          <span>Remove</span>
        </a>
      </div>
    </li>
    <% end %>
  </ul>
</div>


<%= form_tag(lesson_create_path(id: @lesson_obj.id, form_step:5), method: "post", multipart: true, class: "Form") do %>

  <%= field_set_tag 'Instructions', class: 'Form__fieldset' do %>

    <!-- lesson.step.name -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_name">Step name</label>
      </div>

      <div class="FormField__input">
        <input type="text" name="step[name]" required />
      </div>

    </div>

    <!-- lesson.step.duration -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_duration">Duration</label>
      </div>

      <div class="FormField__input">
        <div class="Input Input--slider" data-config="<%= { start: 0, step: 10, connect: [true, false], range: { min: 0, max: 420 } }.to_json %>">
          <input type="hidden" name="step[duration]" value="" />
        </div>
      </div>

    </div>

    <!-- lesson.step.description -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_description">Description</label>
        <div class="FormField__hint">
          <p>Describe all the actions in this step.</p>
          <p>If there are lot of actions, please consider breaking it down into multiple steps!</p>
        </div>
      </div>

      <div class="FormField__input">
        <textarea id="step_description" name="step[description]" required></textarea>
      </div>

    </div>

    <!-- lesson.step.supporting_files -->
    <div class="FormField">

      <div class="FormField__info">
        <label class="FormField__label" for="step_supporting_files">Supporting files</label>
        <div class="FormField__hint">
          <p>Upload any files required</p>
        </div>
      </div>

      <div class="FormField__input">
        <div class="FileUpload" data-url="/" data-paramname="step[supporting_files]" id="step_supporting_files_1">
          <div class="FileUpload__message">
            Drag & drop files here - or click to browse<br />.jpg, .png, .pdf
          </div>
        </div>
      </div>

    </div>

  <% end %>

  <%= field_set_tag 'What is needed for this step?', class: 'Form__fieldset' do %>

    <!-- lesson.step.materials -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_materials">Materials</label>
        <div class="FormField__hint">
          <p>What do I need?</p>
        </div>
      </div>

      <div class="FormField__input FormField__input--multiple">
        <input type="text" name="step[materials][]" class="Input Input--multiple" placeholder="+ Add a new item" id="step_materials" data-values="<%= [].to_json %>" />
      </div>

    </div>

    <!-- lesson.step.tools -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_tools">Tools</label>
        <div class="FormField__hint">
          <p>List as many as needed</p>
        </div>
      </div>

      <div class="FormField__input FormField__input--multiple">
        <input type="text" name="step[tools][]" class="Input Input--multiple" placeholder="+ Add a new item" id="step_tools" data-values="<%= [].to_json %>" />
      </div>

    </div>

    <!-- lesson.step.supporting_materials -->
    <div class="FormField">

      <div class="FormField__info">
        <label class="FormField__label" for="step_supporting_files_1">Supporting materials</label>
        <div class="FormField__hint">
          <p>Design files, handouts needed for this step</p>
        </div>
      </div>

      <div class="FormField__input">
        <div class="FileUpload" data-url="/" data-paramname="step[supporting_files]" id="step_supporting_files_1">
          <div class="FileUpload__message">
            Drag & drop files here - or click to browse<br />.jpg, .png, .pdf
          </div>
        </div>
      </div>

    </div>

    <!-- lesson.step.tools -->
    <div class="FormField FormField--required">

      <div class="FormField__info">
        <label class="FormField__label" for="step_external_links_1">External links</label>
        <div class="FormField__hint">
          <p>Any more useful links</p>
        </div>
      </div>

      <div class="FormField__input FormField__input--multiple">
        <input type="url" name="step[external_links][]" class="Input Input--multiple" data-values='' value="" placeholder="+ Add a new URL" id="step_external_links_1" />
      </div>

    </div>

    <div class="FormField__actions">
      <a href="#" class="Button Button--secondary">Save step</a>
      <a href="#" class="Button Button--secondary">Save and add a new step</a>
    </div>

  <% end %>

  <div class="Form__footer">

    <div class="Form__footer__content">

      <div class="Form__footer__actions">
        <a href="#" class="Form__footer__action Button Button--primary Button--small Button--icon Button--icon--left Button--arrow--left">Back to details</a>
        <button class="Form__footer__action Button Button--primary Button--small Button--icon Button--icon--right Button--arrow--right">Add some outcomes</button>
      </div>

    </div>

  </div>

<% end %>
